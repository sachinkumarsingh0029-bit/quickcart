{"ast":null,"code":"\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nvar is = require('./is');\nfunction getClientIpFromXForwardedFor(value) {\n  if (!is.existy(value)) {\n    return null;\n  }\n  if (is.not.string(value)) {\n    throw new TypeError(\"Expected a string, got \\\"\".concat(_typeof(value), \"\\\"\"));\n  }\n  var forwardedIps = value.split(',').map(function (e) {\n    var ip = e.trim();\n    if (ip.includes(':')) {\n      var splitted = ip.split(':');\n      if (splitted.length === 2) {\n        return splitted[0];\n      }\n    }\n    return ip;\n  });\n  for (var i = 0; i < forwardedIps.length; i++) {\n    if (is.ip(forwardedIps[i])) {\n      return forwardedIps[i];\n    }\n  }\n  return null;\n}\nfunction getClientIp(req) {\n  if (req.headers) {\n    if (is.ip(req.headers['x-client-ip'])) {\n      return req.headers['x-client-ip'];\n    }\n    var xForwardedFor = getClientIpFromXForwardedFor(req.headers['x-forwarded-for']);\n    if (is.ip(xForwardedFor)) {\n      return xForwardedFor;\n    }\n    if (is.ip(req.headers['cf-connecting-ip'])) {\n      return req.headers['cf-connecting-ip'];\n    }\n    if (is.ip(req.headers['fastly-client-ip'])) {\n      return req.headers['fastly-client-ip'];\n    }\n    if (is.ip(req.headers['true-client-ip'])) {\n      return req.headers['true-client-ip'];\n    }\n    if (is.ip(req.headers['x-real-ip'])) {\n      return req.headers['x-real-ip'];\n    }\n    if (is.ip(req.headers['x-cluster-client-ip'])) {\n      return req.headers['x-cluster-client-ip'];\n    }\n    if (is.ip(req.headers['x-forwarded'])) {\n      return req.headers['x-forwarded'];\n    }\n    if (is.ip(req.headers['forwarded-for'])) {\n      return req.headers['forwarded-for'];\n    }\n    if (is.ip(req.headers.forwarded)) {\n      return req.headers.forwarded;\n    }\n    if (is.ip(req.headers['x-appengine-user-ip'])) {\n      return req.headers['x-appengine-user-ip'];\n    }\n  }\n  if (is.existy(req.connection)) {\n    if (is.ip(req.connection.remoteAddress)) {\n      return req.connection.remoteAddress;\n    }\n    if (is.existy(req.connection.socket) && is.ip(req.connection.socket.remoteAddress)) {\n      return req.connection.socket.remoteAddress;\n    }\n  }\n  if (is.existy(req.socket) && is.ip(req.socket.remoteAddress)) {\n    return req.socket.remoteAddress;\n  }\n  if (is.existy(req.info) && is.ip(req.info.remoteAddress)) {\n    return req.info.remoteAddress;\n  }\n  if (is.existy(req.requestContext) && is.existy(req.requestContext.identity) && is.ip(req.requestContext.identity.sourceIp)) {\n    return req.requestContext.identity.sourceIp;\n  }\n  if (req.headers) {\n    if (is.ip(req.headers['Cf-Pseudo-IPv4'])) {\n      return req.headers['Cf-Pseudo-IPv4'];\n    }\n  }\n  if (is.existy(req.raw)) {\n    return getClientIp(req.raw);\n  }\n  return null;\n}\nfunction mw(options) {\n  var configuration = is.not.existy(options) ? {} : options;\n  if (is.not.object(configuration)) {\n    throw new TypeError('Options must be an object!');\n  }\n  var attributeName = configuration.attributeName || 'clientIp';\n  return function (req, res, next) {\n    var ip = getClientIp(req);\n    Object.defineProperty(req, attributeName, {\n      get: function get() {\n        return ip;\n      },\n      configurable: true\n    });\n    next();\n  };\n}\nmodule.exports = {\n  getClientIpFromXForwardedFor: getClientIpFromXForwardedFor,\n  getClientIp: getClientIp,\n  mw: mw\n};","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","is","require","getClientIpFromXForwardedFor","value","existy","not","string","TypeError","concat","forwardedIps","split","map","e","ip","trim","includes","splitted","length","i","getClientIp","req","headers","xForwardedFor","forwarded","connection","remoteAddress","socket","info","requestContext","identity","sourceIp","raw","mw","options","configuration","object","attributeName","res","next","Object","defineProperty","get","configurable","module","exports"],"sources":["D:/Project/QuickCart/ticket-master-dashboard/node_modules/request-ip/lib/index.js"],"sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar is = require('./is');\n\nfunction getClientIpFromXForwardedFor(value) {\n  if (!is.existy(value)) {\n    return null;\n  }\n\n  if (is.not.string(value)) {\n    throw new TypeError(\"Expected a string, got \\\"\".concat(_typeof(value), \"\\\"\"));\n  }\n\n  var forwardedIps = value.split(',').map(function (e) {\n    var ip = e.trim();\n\n    if (ip.includes(':')) {\n      var splitted = ip.split(':');\n\n      if (splitted.length === 2) {\n        return splitted[0];\n      }\n    }\n\n    return ip;\n  });\n\n  for (var i = 0; i < forwardedIps.length; i++) {\n    if (is.ip(forwardedIps[i])) {\n      return forwardedIps[i];\n    }\n  }\n\n  return null;\n}\n\nfunction getClientIp(req) {\n  if (req.headers) {\n    if (is.ip(req.headers['x-client-ip'])) {\n      return req.headers['x-client-ip'];\n    }\n\n    var xForwardedFor = getClientIpFromXForwardedFor(req.headers['x-forwarded-for']);\n\n    if (is.ip(xForwardedFor)) {\n      return xForwardedFor;\n    }\n\n    if (is.ip(req.headers['cf-connecting-ip'])) {\n      return req.headers['cf-connecting-ip'];\n    }\n\n    if (is.ip(req.headers['fastly-client-ip'])) {\n      return req.headers['fastly-client-ip'];\n    }\n\n    if (is.ip(req.headers['true-client-ip'])) {\n      return req.headers['true-client-ip'];\n    }\n\n    if (is.ip(req.headers['x-real-ip'])) {\n      return req.headers['x-real-ip'];\n    }\n\n    if (is.ip(req.headers['x-cluster-client-ip'])) {\n      return req.headers['x-cluster-client-ip'];\n    }\n\n    if (is.ip(req.headers['x-forwarded'])) {\n      return req.headers['x-forwarded'];\n    }\n\n    if (is.ip(req.headers['forwarded-for'])) {\n      return req.headers['forwarded-for'];\n    }\n\n    if (is.ip(req.headers.forwarded)) {\n      return req.headers.forwarded;\n    }\n\n    if (is.ip(req.headers['x-appengine-user-ip'])) {\n      return req.headers['x-appengine-user-ip'];\n    }\n  }\n\n  if (is.existy(req.connection)) {\n    if (is.ip(req.connection.remoteAddress)) {\n      return req.connection.remoteAddress;\n    }\n\n    if (is.existy(req.connection.socket) && is.ip(req.connection.socket.remoteAddress)) {\n      return req.connection.socket.remoteAddress;\n    }\n  }\n\n  if (is.existy(req.socket) && is.ip(req.socket.remoteAddress)) {\n    return req.socket.remoteAddress;\n  }\n\n  if (is.existy(req.info) && is.ip(req.info.remoteAddress)) {\n    return req.info.remoteAddress;\n  }\n\n  if (is.existy(req.requestContext) && is.existy(req.requestContext.identity) && is.ip(req.requestContext.identity.sourceIp)) {\n    return req.requestContext.identity.sourceIp;\n  }\n\n  if (req.headers) {\n    if (is.ip(req.headers['Cf-Pseudo-IPv4'])) {\n      return req.headers['Cf-Pseudo-IPv4'];\n    }\n  }\n\n  if (is.existy(req.raw)) {\n    return getClientIp(req.raw);\n  }\n\n  return null;\n}\n\nfunction mw(options) {\n  var configuration = is.not.existy(options) ? {} : options;\n\n  if (is.not.object(configuration)) {\n    throw new TypeError('Options must be an object!');\n  }\n\n  var attributeName = configuration.attributeName || 'clientIp';\n  return function (req, res, next) {\n    var ip = getClientIp(req);\n    Object.defineProperty(req, attributeName, {\n      get: function get() {\n        return ip;\n      },\n      configurable: true\n    });\n    next();\n  };\n}\n\nmodule.exports = {\n  getClientIpFromXForwardedFor: getClientIpFromXForwardedFor,\n  getClientIp: getClientIp,\n  mw: mw\n};"],"mappings":"AAAA,YAAY;;AAEZ,SAASA,OAAOA,CAACC,GAAG,EAAE;EAAE,yBAAyB;;EAAE,OAAOD,OAAO,GAAG,UAAU,IAAI,OAAOE,MAAM,IAAI,QAAQ,IAAI,OAAOA,MAAM,CAACC,QAAQ,GAAG,UAAUF,GAAG,EAAE;IAAE,OAAO,OAAOA,GAAG;EAAE,CAAC,GAAG,UAAUA,GAAG,EAAE;IAAE,OAAOA,GAAG,IAAI,UAAU,IAAI,OAAOC,MAAM,IAAID,GAAG,CAACG,WAAW,KAAKF,MAAM,IAAID,GAAG,KAAKC,MAAM,CAACG,SAAS,GAAG,QAAQ,GAAG,OAAOJ,GAAG;EAAE,CAAC,EAAED,OAAO,CAACC,GAAG,CAAC;AAAE;AAE/U,IAAIK,EAAE,GAAGC,OAAO,CAAC,MAAM,CAAC;AAExB,SAASC,4BAA4BA,CAACC,KAAK,EAAE;EAC3C,IAAI,CAACH,EAAE,CAACI,MAAM,CAACD,KAAK,CAAC,EAAE;IACrB,OAAO,IAAI;EACb;EAEA,IAAIH,EAAE,CAACK,GAAG,CAACC,MAAM,CAACH,KAAK,CAAC,EAAE;IACxB,MAAM,IAAII,SAAS,CAAC,2BAA2B,CAACC,MAAM,CAACd,OAAO,CAACS,KAAK,CAAC,EAAE,IAAI,CAAC,CAAC;EAC/E;EAEA,IAAIM,YAAY,GAAGN,KAAK,CAACO,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,UAAUC,CAAC,EAAE;IACnD,IAAIC,EAAE,GAAGD,CAAC,CAACE,IAAI,EAAE;IAEjB,IAAID,EAAE,CAACE,QAAQ,CAAC,GAAG,CAAC,EAAE;MACpB,IAAIC,QAAQ,GAAGH,EAAE,CAACH,KAAK,CAAC,GAAG,CAAC;MAE5B,IAAIM,QAAQ,CAACC,MAAM,KAAK,CAAC,EAAE;QACzB,OAAOD,QAAQ,CAAC,CAAC,CAAC;MACpB;IACF;IAEA,OAAOH,EAAE;EACX,CAAC,CAAC;EAEF,KAAK,IAAIK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,YAAY,CAACQ,MAAM,EAAEC,CAAC,EAAE,EAAE;IAC5C,IAAIlB,EAAE,CAACa,EAAE,CAACJ,YAAY,CAACS,CAAC,CAAC,CAAC,EAAE;MAC1B,OAAOT,YAAY,CAACS,CAAC,CAAC;IACxB;EACF;EAEA,OAAO,IAAI;AACb;AAEA,SAASC,WAAWA,CAACC,GAAG,EAAE;EACxB,IAAIA,GAAG,CAACC,OAAO,EAAE;IACf,IAAIrB,EAAE,CAACa,EAAE,CAACO,GAAG,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC,EAAE;MACrC,OAAOD,GAAG,CAACC,OAAO,CAAC,aAAa,CAAC;IACnC;IAEA,IAAIC,aAAa,GAAGpB,4BAA4B,CAACkB,GAAG,CAACC,OAAO,CAAC,iBAAiB,CAAC,CAAC;IAEhF,IAAIrB,EAAE,CAACa,EAAE,CAACS,aAAa,CAAC,EAAE;MACxB,OAAOA,aAAa;IACtB;IAEA,IAAItB,EAAE,CAACa,EAAE,CAACO,GAAG,CAACC,OAAO,CAAC,kBAAkB,CAAC,CAAC,EAAE;MAC1C,OAAOD,GAAG,CAACC,OAAO,CAAC,kBAAkB,CAAC;IACxC;IAEA,IAAIrB,EAAE,CAACa,EAAE,CAACO,GAAG,CAACC,OAAO,CAAC,kBAAkB,CAAC,CAAC,EAAE;MAC1C,OAAOD,GAAG,CAACC,OAAO,CAAC,kBAAkB,CAAC;IACxC;IAEA,IAAIrB,EAAE,CAACa,EAAE,CAACO,GAAG,CAACC,OAAO,CAAC,gBAAgB,CAAC,CAAC,EAAE;MACxC,OAAOD,GAAG,CAACC,OAAO,CAAC,gBAAgB,CAAC;IACtC;IAEA,IAAIrB,EAAE,CAACa,EAAE,CAACO,GAAG,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,EAAE;MACnC,OAAOD,GAAG,CAACC,OAAO,CAAC,WAAW,CAAC;IACjC;IAEA,IAAIrB,EAAE,CAACa,EAAE,CAACO,GAAG,CAACC,OAAO,CAAC,qBAAqB,CAAC,CAAC,EAAE;MAC7C,OAAOD,GAAG,CAACC,OAAO,CAAC,qBAAqB,CAAC;IAC3C;IAEA,IAAIrB,EAAE,CAACa,EAAE,CAACO,GAAG,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC,EAAE;MACrC,OAAOD,GAAG,CAACC,OAAO,CAAC,aAAa,CAAC;IACnC;IAEA,IAAIrB,EAAE,CAACa,EAAE,CAACO,GAAG,CAACC,OAAO,CAAC,eAAe,CAAC,CAAC,EAAE;MACvC,OAAOD,GAAG,CAACC,OAAO,CAAC,eAAe,CAAC;IACrC;IAEA,IAAIrB,EAAE,CAACa,EAAE,CAACO,GAAG,CAACC,OAAO,CAACE,SAAS,CAAC,EAAE;MAChC,OAAOH,GAAG,CAACC,OAAO,CAACE,SAAS;IAC9B;IAEA,IAAIvB,EAAE,CAACa,EAAE,CAACO,GAAG,CAACC,OAAO,CAAC,qBAAqB,CAAC,CAAC,EAAE;MAC7C,OAAOD,GAAG,CAACC,OAAO,CAAC,qBAAqB,CAAC;IAC3C;EACF;EAEA,IAAIrB,EAAE,CAACI,MAAM,CAACgB,GAAG,CAACI,UAAU,CAAC,EAAE;IAC7B,IAAIxB,EAAE,CAACa,EAAE,CAACO,GAAG,CAACI,UAAU,CAACC,aAAa,CAAC,EAAE;MACvC,OAAOL,GAAG,CAACI,UAAU,CAACC,aAAa;IACrC;IAEA,IAAIzB,EAAE,CAACI,MAAM,CAACgB,GAAG,CAACI,UAAU,CAACE,MAAM,CAAC,IAAI1B,EAAE,CAACa,EAAE,CAACO,GAAG,CAACI,UAAU,CAACE,MAAM,CAACD,aAAa,CAAC,EAAE;MAClF,OAAOL,GAAG,CAACI,UAAU,CAACE,MAAM,CAACD,aAAa;IAC5C;EACF;EAEA,IAAIzB,EAAE,CAACI,MAAM,CAACgB,GAAG,CAACM,MAAM,CAAC,IAAI1B,EAAE,CAACa,EAAE,CAACO,GAAG,CAACM,MAAM,CAACD,aAAa,CAAC,EAAE;IAC5D,OAAOL,GAAG,CAACM,MAAM,CAACD,aAAa;EACjC;EAEA,IAAIzB,EAAE,CAACI,MAAM,CAACgB,GAAG,CAACO,IAAI,CAAC,IAAI3B,EAAE,CAACa,EAAE,CAACO,GAAG,CAACO,IAAI,CAACF,aAAa,CAAC,EAAE;IACxD,OAAOL,GAAG,CAACO,IAAI,CAACF,aAAa;EAC/B;EAEA,IAAIzB,EAAE,CAACI,MAAM,CAACgB,GAAG,CAACQ,cAAc,CAAC,IAAI5B,EAAE,CAACI,MAAM,CAACgB,GAAG,CAACQ,cAAc,CAACC,QAAQ,CAAC,IAAI7B,EAAE,CAACa,EAAE,CAACO,GAAG,CAACQ,cAAc,CAACC,QAAQ,CAACC,QAAQ,CAAC,EAAE;IAC1H,OAAOV,GAAG,CAACQ,cAAc,CAACC,QAAQ,CAACC,QAAQ;EAC7C;EAEA,IAAIV,GAAG,CAACC,OAAO,EAAE;IACf,IAAIrB,EAAE,CAACa,EAAE,CAACO,GAAG,CAACC,OAAO,CAAC,gBAAgB,CAAC,CAAC,EAAE;MACxC,OAAOD,GAAG,CAACC,OAAO,CAAC,gBAAgB,CAAC;IACtC;EACF;EAEA,IAAIrB,EAAE,CAACI,MAAM,CAACgB,GAAG,CAACW,GAAG,CAAC,EAAE;IACtB,OAAOZ,WAAW,CAACC,GAAG,CAACW,GAAG,CAAC;EAC7B;EAEA,OAAO,IAAI;AACb;AAEA,SAASC,EAAEA,CAACC,OAAO,EAAE;EACnB,IAAIC,aAAa,GAAGlC,EAAE,CAACK,GAAG,CAACD,MAAM,CAAC6B,OAAO,CAAC,GAAG,CAAC,CAAC,GAAGA,OAAO;EAEzD,IAAIjC,EAAE,CAACK,GAAG,CAAC8B,MAAM,CAACD,aAAa,CAAC,EAAE;IAChC,MAAM,IAAI3B,SAAS,CAAC,4BAA4B,CAAC;EACnD;EAEA,IAAI6B,aAAa,GAAGF,aAAa,CAACE,aAAa,IAAI,UAAU;EAC7D,OAAO,UAAUhB,GAAG,EAAEiB,GAAG,EAAEC,IAAI,EAAE;IAC/B,IAAIzB,EAAE,GAAGM,WAAW,CAACC,GAAG,CAAC;IACzBmB,MAAM,CAACC,cAAc,CAACpB,GAAG,EAAEgB,aAAa,EAAE;MACxCK,GAAG,EAAE,SAASA,GAAGA,CAAA,EAAG;QAClB,OAAO5B,EAAE;MACX,CAAC;MACD6B,YAAY,EAAE;IAChB,CAAC,CAAC;IACFJ,IAAI,EAAE;EACR,CAAC;AACH;AAEAK,MAAM,CAACC,OAAO,GAAG;EACf1C,4BAA4B,EAAEA,4BAA4B;EAC1DiB,WAAW,EAAEA,WAAW;EACxBa,EAAE,EAAEA;AACN,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}