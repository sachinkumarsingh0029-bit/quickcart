{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project\\\\QuickCart\\\\seller-dashboard\\\\src\\\\layouts\\\\MainLayout.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport SideBar from \"../component/sidebar/SideBar\";\nimport { Navigate, Outlet } from \"react-router-dom\";\nimport IpBanned from \"../pages/error/IpBanned\";\nimport { logoutSuccess } from \"../redux/user/userSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport withAuth from \"../hoc/withAuth\";\nimport instance from \"../utils/Axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MainLayout = () => {\n  _s();\n  const ban = useSelector(state => state.user.ban);\n  const {\n    isAuthenticated,\n    user\n  } = useSelector(state => state.user);\n  const {\n    seller\n  } = useSelector(state => state.seller);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    async function checkAuth() {\n      const response = await instance.get(\"/auth/check\");\n      return response;\n    }\n    try {\n      const response = checkAuth();\n      if (response.data.status !== \"success\") {\n        dispatch(logoutSuccess());\n      }\n    } catch (err) {\n      // dispatch(logoutSuccess());\n    }\n  }, []);\n  if (ban !== null && ban !== void 0 && ban.status && (ban === null || ban === void 0 ? void 0 : ban.banExpiresAt) < Date.now()) {\n    return /*#__PURE__*/_jsxDEV(IpBanned, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 12\n    }, this);\n  }\n  if (!isAuthenticated && !user.verificationStatus && !seller) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"error\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 12\n    }, this);\n  } else if (isAuthenticated && !user.verificationStatus && seller) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"error\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex h-screen\",\n      children: [/*#__PURE__*/_jsxDEV(SideBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"overflow-scroll w-full\"\n        // onClick={() => openSidebar === false && setOpenSidebar(true)}\n        ,\n        children: /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(MainLayout, \"P8HxpCTcL4ohMoAWYB4dCpihVnc=\", false, function () {\n  return [useSelector, useSelector, useSelector, useDispatch];\n});\n_c = MainLayout;\nexport default _c2 = withAuth(MainLayout);\n// export default MainLayout;\nvar _c, _c2;\n$RefreshReg$(_c, \"MainLayout\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useEffect","SideBar","Navigate","Outlet","IpBanned","logoutSuccess","useDispatch","useSelector","withAuth","instance","jsxDEV","_jsxDEV","MainLayout","_s","ban","state","user","isAuthenticated","seller","dispatch","checkAuth","response","get","data","status","err","banExpiresAt","Date","now","fileName","_jsxFileName","lineNumber","columnNumber","verificationStatus","to","children","className","_c","_c2","$RefreshReg$"],"sources":["D:/Project/QuickCart/seller-dashboard/src/layouts/MainLayout.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport SideBar from \"../component/sidebar/SideBar\";\nimport { Navigate, Outlet } from \"react-router-dom\";\nimport Dashboard from \"../pages/dashboard/Dashboard\";\nimport IpBanned from \"../pages/error/IpBanned\";\nimport { logoutSuccess } from \"../redux/user/userSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { RootState } from \"../redux/rootReducer\";\nimport withAuth from \"../hoc/withAuth\";\nimport instance from \"../utils/Axios\";\n\nconst MainLayout = () => {\n  const ban = useSelector((state: RootState) => state.user.ban);\n  const { isAuthenticated, user } = useSelector(\n    (state: RootState) => state.user\n  );\n  const { seller } = useSelector((state: RootState) => state.seller);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    async function checkAuth() {\n      const response: any = await instance.get<any>(\"/auth/check\");\n      return response;\n    }\n\n    try {\n      const response: any = checkAuth();\n      if (response.data.status !== \"success\") {\n        dispatch(logoutSuccess());\n      }\n    } catch (err) {\n      // dispatch(logoutSuccess());\n    }\n  }, []);\n\n  if (ban?.status && ban?.banExpiresAt < Date.now()) {\n    return <IpBanned />;\n  }\n\n  if (!isAuthenticated && !user.verificationStatus && !seller) {\n    return <Navigate to=\"error\" />;\n  } else if (isAuthenticated && !user.verificationStatus && seller) {\n    return <Navigate to=\"error\" />;\n  }\n\n  return (\n    <div>\n      <div className=\"flex h-screen\">\n        <SideBar />\n        <span\n          className=\"overflow-scroll w-full\"\n          // onClick={() => openSidebar === false && setOpenSidebar(true)}\n        >\n          <Outlet />\n        </span>\n      </div>\n    </div>\n  );\n};\n\nexport default withAuth(MainLayout);\n// export default MainLayout;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}