{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project\\\\QuickCart\\\\seller-dashboard\\\\src\\\\hoc\\\\withAuth.tsx\";\nimport React from \"react\";\nimport useAuth from \"../hooks/useAuth\";\nimport { CreateToast } from \"../utils/Toast\";\nimport { Navigate } from \"react-router-dom\";\n\n// Higher-order component to check authentication before rendering child components\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction withAuth(children) {\n  var _s = $RefreshSig$();\n  return _s(function AuthenticatedComponent() {\n    _s();\n    const {\n      isAuthenticated,\n      user,\n      seller\n    } = useAuth();\n    if (isAuthenticated && user.verificationStatus && seller) {\n      // Render the child components if the user is authenticated and verified\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: children()\n      }, void 0, false);\n    } else if (isAuthenticated && !user.verificationStatus && seller && !seller.verificationStatus) {\n      CreateToast(\"verifyaccount\", \"Please verify your account to access this page.\", \"error\");\n      // Redirect the user to the verification page\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        replace: true,\n        to: \"/error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 14\n      }, this);\n    } else {\n      CreateToast(\"accessthispage\", \"Oops! It looks like you're not logged in. Please log in to access this page.\", \"error\");\n      // Redirect the user to the login page\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        replace: true,\n        to: \"/error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 14\n      }, this);\n    }\n  }, \"hxiVVo9WoHpV4RnKwinUSphbqVk=\", false, function () {\n    return [useAuth];\n  });\n}\nexport default withAuth;","map":{"version":3,"names":["React","useAuth","CreateToast","Navigate","Fragment","_Fragment","jsxDEV","_jsxDEV","withAuth","children","_s","$RefreshSig$","AuthenticatedComponent","isAuthenticated","user","seller","verificationStatus","replace","to","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["D:/Project/QuickCart/seller-dashboard/src/hoc/withAuth.tsx"],"sourcesContent":["import React from \"react\";\nimport useAuth from \"../hooks/useAuth\";\nimport { CreateToast } from \"../utils/Toast\";\nimport { Navigate } from \"react-router-dom\";\n\n// Higher-order component to check authentication before rendering child components\nfunction withAuth(children: () => JSX.Element) {\n  return function AuthenticatedComponent() {\n    const { isAuthenticated, user, seller } = useAuth();\n\n    if (isAuthenticated && user.verificationStatus && seller) {\n      // Render the child components if the user is authenticated and verified\n      return <>{children()}</>;\n    } else if (\n      isAuthenticated &&\n      !user.verificationStatus &&\n      seller &&\n      !seller.verificationStatus\n    ) {\n      CreateToast(\n        \"verifyaccount\",\n        \"Please verify your account to access this page.\",\n        \"error\"\n      );\n      // Redirect the user to the verification page\n      return <Navigate replace to=\"/error\" />;\n    } else {\n      CreateToast(\n        \"accessthispage\",\n        \"Oops! It looks like you're not logged in. Please log in to access this page.\",\n        \"error\"\n      );\n      // Redirect the user to the login page\n      return <Navigate replace to=\"/error\" />;\n    }\n  };\n}\n\nexport default withAuth;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,kBAAkB;AACtC,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,SAASC,QAAQ,QAAQ,kBAAkB;;AAE3C;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,SAASC,QAAQA,CAACC,QAA2B,EAAE;EAAA,IAAAC,EAAA,GAAAC,YAAA;EAC7C,OAAAD,EAAA,CAAO,SAASE,sBAAsBA,CAAA,EAAG;IAAAF,EAAA;IACvC,MAAM;MAAEG,eAAe;MAAEC,IAAI;MAAEC;IAAO,CAAC,GAAGd,OAAO,EAAE;IAEnD,IAAIY,eAAe,IAAIC,IAAI,CAACE,kBAAkB,IAAID,MAAM,EAAE;MACxD;MACA,oBAAOR,OAAA,CAAAF,SAAA;QAAAI,QAAA,EAAGA,QAAQ;MAAE,iBAAI;IAC1B,CAAC,MAAM,IACLI,eAAe,IACf,CAACC,IAAI,CAACE,kBAAkB,IACxBD,MAAM,IACN,CAACA,MAAM,CAACC,kBAAkB,EAC1B;MACAd,WAAW,CACT,eAAe,EACf,iDAAiD,EACjD,OAAO,CACR;MACD;MACA,oBAAOK,OAAA,CAACJ,QAAQ;QAACc,OAAO;QAACC,EAAE,EAAC;MAAQ;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAG;IACzC,CAAC,MAAM;MACLpB,WAAW,CACT,gBAAgB,EAChB,8EAA8E,EAC9E,OAAO,CACR;MACD;MACA,oBAAOK,OAAA,CAACJ,QAAQ;QAACc,OAAO;QAACC,EAAE,EAAC;MAAQ;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAG;IACzC;EACF,CAAC;IAAA,QA3B2CrB,OAAO;EAAA;AA4BrD;AAEA,eAAeO,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}